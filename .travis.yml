# Config file for automatic testing at travis-ci.com

language: python
python:
  - 3.9
  - 3.8
  - 3.7
  - 3.6

# Command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
#install: pip install -U requests 

# Command to run tests, e.g. python setup.py test
script: 
  - if [[ -n "$TOX_ENV" ]]; then tox -e $TOX_ENV -- $TOX_ARGS; fi
  - if [[ -n "$BUILD_WHEEL" ]]; then cibuildwheel --output-dir dist && ls -l dist; fi
  - if [[ -n "$BUILD_SDIST" ]]; then python setup.py check sdist && ls -l dist; fi

# Assuming you have installed the travis-ci CLI tool, after you
# create the Github repo and add it to Travis, run the
# following command to finish PyPI deployment setup:
# $ travis encrypt --add deploy.password
deploy:
  skip_cleanup: true
  provider: pypi
  distributions: sdist bdist_wheel
  user: inaruslynx
  password:
    secure: "pRf20ImXNDmfgpk1vpNIYjBApe9kwJSeZrhXRDvBkkvotfBSHuDSwRuLthb6vprX2t+VS3bvzS+FVDSJ7fmD8HGY6yCWG5EdDddDFR+wpju92MjBFrh7s1baISmKbLqMArfcRiTAukW+kYvocf7dRiR07KibtHRt84kzrfemDDUseHtX9LgoYnL6OiNLocn+5/hbTFXeL2PxmliJDTwfV7cSOD/aQMnRWuP9/pxL+cU9Qpejm7HOXP5ZtoQNxcoutchbEKC4R2lcNNnNsRXTes4UFKMQwWkGpXK1mS4q+tArKP9MVwLT8E91v7pxK/ZbqgPBxpJQ2HMGHv7+g77Fv6tSFKlByu4ESw4xyeqGdpUc120p8WueDwlZCey36O+VSaRWVPzAtD2EbhCR+g4D285HGY11lM6DDchChwjMPU7ZQPAyBNrmI5CSMD8q1yhi2RjRRzgLGkDwgvxMI2hmiWnJlbIGygz8UW/EbjS5/XR82+aXSLtRcAJu8YR17wwIVk6ypGBwaZOePmdjWQ98vg2TOrfZIJBmPT4t5i8xyMt/5mY/Z1SP8yF09vK3CLfGps6bTLyQEIB0SX0fTa2AREDhS3V+0VMDjIwnK7ClpAiBhQ3wLlaYaOgxEgqjwSQK4IDLjgXnH+M9yYmGgPCHsNhnh7DaOAQfAvYCoAowVKw="
  on:
    tags: true
    repo: Inaruslynx/SmtApi
    python: 3.9
    only:
      - main
      - ^v.......
